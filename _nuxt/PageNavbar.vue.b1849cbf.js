import{_ as T}from"./Icon.vue.59d79b37.js";import{d as m,C as $,o as s,a as l,f as p,t as k,m as w,O as v,B as g,a2 as A,A as y,w as _,b as n,h as f,u as h,s as H,E as F,q as M,x as D,y as N,D as P,r as C,z as V,K as W,F as x,g as R,H as j,G as U,j as O,I as G,J,an as S}from"./entry.adf4248a.js";import{_ as K}from"./FormControl.vue.7f79b6c2.js";import{u as Q,q as X}from"./query.7c4214ba.js";import{s as Y}from"./content.281bfe2f.js";const Z=""+globalThis.__publicAssetsURL("img/logo.svg"),ee=["id","aria-labelledby"],te={class:"modal-content"},se={class:"modal-header"},ae=["id","textContent"],oe=p("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ne={class:"modal-body"},le={key:0,class:"modal-footer"},re=["textContent"],ce=m({name:"SkiModal",__name:"Modal",props:{id:{},title:{},size:{},showFooter:{type:Boolean,default:!0},closeButton:{default:"Close"}},setup(o){const e=o,a=$(()=>`${e.id}-label`),t=$(()=>e.size?`modal-${e.size}`:null);return(r,d)=>(s(),l("div",{id:r.id,class:"modal fade",tabindex:"-1","aria-labelledby":a.value,"aria-hidden":"true"},[p("div",{class:g(["modal-dialog",t.value])},[p("div",te,[p("div",se,[r.title?(s(),l("h5",{key:0,class:"modal-title",id:a.value,textContent:k(r.title)},null,8,ae)):w("",!0),oe]),p("div",ne,[v(r.$slots,"default")]),r.showFooter?(s(),l("div",le,[r.closeButton?(s(),l("button",{key:0,type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",textContent:k(r.closeButton)},null,8,re)):w("",!0),v(r.$slots,"buttons")])):w("",!0)])],2)],8,ee))}}),ie={class:"nav-item"},de=["href"],_e=m({name:"SkiNavbarItem",__name:"NavbarItem",props:{to:{},href:{},active:{type:[Boolean,String]}},setup(o){const e=o,a=$(()=>e.active?"active":null);return(t,r)=>{const d=A("router-link");return s(),l("li",ie,[t.to?(s(),y(d,{key:0,to:t.to,class:g(["nav-link",a.value])},{default:_(()=>[v(t.$slots,"default")]),_:3},8,["to","class"])):t.href?(s(),l("a",{key:1,href:t.href,class:g(["nav-link",a.value])},[v(t.$slots,"default")],10,de)):(s(),l("button",{key:2,class:g(["btn btn-link nav-link",a.value])},[v(t.$slots,"default")],2))])}}}),ue={class:"navbar-nav"},pe=m({name:"SkiNavbarItems",__name:"NavbarItems",setup(o){return(e,a)=>(s(),l("ul",ue,[v(e.$slots,"default")]))}}),me=["data-bs-target","aria-controls"],ve=p("span",{class:"navbar-toggler-icon"},null,-1),he=[ve],fe=m({name:"SkiNavbarToggle",__name:"NavbarToggle",props:{target:{}},setup(o){return(e,a)=>(s(),l("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":`#${e.target}`,"aria-controls":e.target,"aria-expanded":"false","aria-label":"Toggle navigation"},he,8,me))}}),be={class:"container-fluid"},ge=["id"],$e=m({__name:"NavbarCollapse",props:{id:{}},setup(o){return(e,a)=>(s(),l("div",be,[v(e.$slots,"brand"),n(fe,{target:e.id},null,8,["target"]),p("div",{id:e.id,class:"collapse navbar-collapse"},[v(e.$slots,"default")],8,ge)]))}}),ke=["data-bs-theme"],ye=m({name:"SkiNavbar",__name:"Navbar",props:{expand:{default:"lg"},color:{default:"body-tertiary"},theme:{}},setup(o){const e=o,a=$(()=>[`navbar-expand-${e.expand}`,`bg-${e.color}`]);return(t,r)=>(s(),l("nav",{class:g(["navbar",a.value]),"data-bs-theme":t.theme},[v(t.$slots,"default")],10,ke))}}),Le=["href"],we={key:2,class:"navbar-brand"},Ce=m({name:"SkiNavbarBrand",__name:"NavbarBrand",props:{to:{},href:{}},setup(o){return(e,a)=>{const t=A("router-link");return e.to?(s(),y(t,{key:0,to:e.to,class:"navbar-brand"},{default:_(()=>[v(e.$slots,"default")]),_:3},8,["to"])):e.href?(s(),l("a",{key:1,href:e.href,class:"navbar-brand"},[v(e.$slots,"default")],8,Le)):(s(),l("span",we,[v(e.$slots,"default")]))}}}),Ne=o=>(M("data-v-7af70880"),o=o(),D(),o),Be=Ne(()=>p("img",{class:"logo",src:Z,alt:"Logo"},null,-1)),Ie=m({__name:"NavbarBrand",setup(o){return(e,a)=>{const t=F,r=Ce;return s(),y(r,null,{default:_(()=>[Be,n(t,{class:"brand-link",to:"/"},{default:_(()=>[f(k(h(H).name),1)]),_:1})]),_:1})}}});const E=N(Ie,[["__scopeId","data-v-7af70880"]]),Se={class:"dropdown-header"},Te=m({__name:"FilteredLessonList",props:{levelId:{},lessons:{},filter:{default:void 0}},setup(o){const e=o,a=P(),t=c=>`/cours/${c.level}/${c.id}/`,r=c=>{const b=t(c);return b===a.path||b===a.path+"/"?"current":null},d=$(()=>U[e.levelId]),u=$(()=>e.lessons.filter(c=>c.level===e.levelId&&c["title-search"].includes(e.filter??""))),i=C(null);return V(async()=>{await W(),i.value.style.minWidth=`${i.value.offsetWidth}px`}),(c,b)=>{const B=T,I=F;return h(u).length>0?(s(),l("ul",{key:0,ref_key:"root",ref:i,class:"lesson-list list-group"},[p("li",Se,[n(B,{icon:"pen-fill"}),f(" Cours de "+k(h(d).name),1)]),(s(!0),l(x,null,R(h(u),L=>(s(),l("li",{key:L.id},[n(I,{class:g(["dropdown-item",r(L)]),to:t(L)},{default:_(()=>[f(k(h(j)(L)),1)]),_:2},1032,["class","to"])]))),128))],512)):w("",!0)}}});const Ee=N(Te,[["__scopeId","data-v-8d7f75ff"]]),ze=o=>(M("data-v-13005e59"),o=o(),D(),o),Ae={class:"list"},Fe={key:0},Me={key:1},De={action:"/recherche/",method:"get"},Ve={key:2},We=ze(()=>p("em",null,"Pas de cours à afficher.",-1)),xe=[We],Re=m({__name:"LessonList",setup(o){const e=C(),a=Object.keys(U),{pending:t,data:r}=Q("lesson-list",()=>X(Y.dataLatexDirectory).without(["body","summary","toc"]).sort({chapter:1,$numeric:!0}).find());return(d,u)=>{const i=K;return s(),l("div",Ae,[h(t)?(s(),l("em",Fe,"Chargement de la liste des cours...")):h(r)?(s(),l("div",Me,[p("form",De,[n(i,{modelValue:h(e),"onUpdate:modelValue":u[0]||(u[0]=c=>O(e)?e.value=c:null),class:"border-0",type:"search",name:"requete",placeholder:"Chercher un cours..."},null,8,["modelValue"])]),(s(!0),l(x,null,R(h(a),c=>(s(),y(Ee,{key:c,"level-id":c,lessons:h(r),filter:h(e)},null,8,["level-id","lessons","filter"]))),128))])):(s(),l("div",Ve,xe))])}}});const q=N(Re,[["__scopeId","data-v-13005e59"]]),Ue=m({__name:"LessonListModal",setup(o){return(e,a)=>{const t=ce;return s(),y(t,{id:"modal-lesson-list",title:"Accès direct à un cours","close-button":"Fermer",size:"lg"},{default:_(()=>[n(q)]),_:1})}}});const qe=N(Ue,[["__scopeId","data-v-dc20229d"]]),He={class:"nav-item dropdown"},Pe={class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},je={class:"dropdown-menu dropdown-menu-end p-0"},Oe=m({__name:"LessonListDropdown",setup(o){return(e,a)=>{const t=T;return s(),l("li",He,[p("a",Pe,[n(t,{icon:"tag-fill"}),f(" Accès direct à un cours ")]),p("div",je,[n(q)])])}}}),z=70,Ye=m({__name:"PageNavbar",setup(o){const e=C(0),a=C(null);V(async()=>{await W(),t()}),G(()=>{window.addEventListener("resize",t),window.addEventListener("scroll",r)}),J(()=>{window.removeEventListener("resize",t),window.removeEventListener("scroll",r)});const t=()=>{const u=window.innerWidth<768?70:130;a.value.$el.setAttribute("style",`--height: ${u}px; --shrinked-height: ${z}px`);let i=document.getElementById("page-navbar-spacer");i||(i=document.createElement("div"),i.classList.add("bg-primary"),i.setAttribute("id","page-navbar-spacer"),a.value.$el.parentNode.insertBefore(i,a.value.$el)),i.style.height=`${u}px`,document.documentElement.scrollTop=Math.max(document.documentElement.scrollTop-u,0),e.value=u-z},r=()=>{var u;const d=document.documentElement.scrollTop;(u=a.value)==null||u.$el.classList.toggle("shrinked",d>e.value)};return(d,u)=>{const i=T,c=_e,b=pe,B=$e,I=ye;return s(),l("div",null,[n(I,{id:"page-navbar",ref_key:"navbar",ref:a,brightness:"primary",theme:"dark"},{default:_(()=>[n(B,{id:"page-navbar-collapse"},{brand:_(()=>[n(E,{class:"mobile-navbar-brand"})]),default:_(()=>[n(b,{class:"ms-auto ms-lg-0"},{default:_(()=>[n(c,{class:"page-navbar-item",to:"/",active:(d._.provides[S]||d.$route).path==="/"},{default:_(()=>[n(i,{icon:"house-door-fill"}),f(" Accueil ")]),_:1},8,["active"]),n(c,{class:"page-navbar-item",to:"/cours/",active:(d._.provides[S]||d.$route).path.startsWith("/cours")},{default:_(()=>[n(i,{icon:"bookmark-fill"}),f(" Liste des cours ")]),_:1},8,["active"]),n(c,{class:"page-navbar-item",to:"/a-propos/",active:(d._.provides[S]||d.$route).path==="/a-propos/"},{default:_(()=>[n(i,{icon:"pencil-fill"}),f(" À propos ")]),_:1},8,["active"]),n(c,{class:"page-navbar-item d-lg-none",to:"/cours/","data-bs-toggle":"modal","data-bs-target":"#modal-lesson-list"},{default:_(()=>[n(i,{icon:"tag-fill"}),f(" Accès direct à un cours ")]),_:1})]),_:1}),n(E,{class:"desktop-navbar-brand"}),n(b,{class:"d-none d-lg-block ms-auto"},{default:_(()=>[n(Oe,{class:"page-navbar-item"})]),_:1})]),_:1})]),_:1},512),n(qe)])}}});export{Z as _,ce as a,Ye as b,z as s};
